<section class="py-12 sm:py-12 md:py-16 lg:py-20 bg-white" aria-labelledby="locations-title">
    <div class="mx-auto w-full px-4 sm:px-6 md:px-8 lg:px-20">
        <p class="text-[#0D53A2] text-[18px] font-semibold leading-[150%] uppercase mb-2">Locations</p>
        <h2 id="locations-title" class="text-black text-[50px] font-normal leading-[110%] mb-4">
            Find an Oakwood office
        </h2>
        <p class="text-[#454545] text-[18px] font-segoe font-normal leading-[150%] mb-12">
            Find our office locations and direct contact details for regional support and inquiries.
        </p>
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            @for (office of offices; track office.name) {
            <article class="contact-office-card       overflow-hidden shadow-md border border-gray-100">
                <div class="contact-office-header relative overflow-hidden">
                    <img src="/assets/{{office.name }}.png" alt="{{ office.name }}" class="w-full h-[380px] sm:h-[360px] md:h-[380px] lg:h-[420px] inset-0
              bg-[linear-gradient(218deg,rgba(62,97,162,0)_28.65%,rgba(62,97,162,0.63)_78.59%)]
              opacity-40 object-cover" />

                    <div class="absolute inset-0 opacity-40"
                        style="background: linear-gradient(to bottom, #3E61A200, #3E61A2E5); backdrop-filter: blur(5.599999904632568px); -webkit-backdrop-filter: blur(5.599999904632568px);">
                    </div>

                    <div
                        class="absolute inset-0 p-4 sm:p-6 lg:p-8 flex flex-col justify-between items-start text-white">

                        <span
                            class="text-[#FAF6FD] text-[30px] sm:text-[34px] lg:text-[42px] font-semibold leading-[115%] sm:leading-[120%] lg:leading-[50px] tracking-[-0.3px] sm:tracking-[-0.34px] lg:tracking-[-0.42px] mb-2 sm:mb-3 lg:mb-4">{{
                            office.name
                            }}</span>

                        <div class="flex flex-col items-start gap-2 sm:gap-3 self-start max-w-full">
                            <div class="flex items-start gap-3 rounded-sm max-w-full min-w-0">
                                <span class="w-7 h-7 sm:w-7 sm:h-7 lg:w-8 lg:h-8 flex items-center justify-center shrink-0 mt-0.5">

                                    <svg class="w-5 h-5 lg:w-6 lg:h-6" width="18" height="25" viewBox="0 0 18 25" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M12.75 9C12.75 11.1094 11.0625 12.75 9 12.75C6.89062 12.75 5.25 11.1094 5.25 9C5.25 6.9375 6.89062 5.25 9 5.25C11.0625 5.25 12.75 6.9375 12.75 9ZM9 7.5C8.15625 7.5 7.5 8.20312 7.5 9C7.5 9.84375 8.15625 10.5 9 10.5C9.79688 10.5 10.5 9.84375 10.5 9C10.5 8.20312 9.79688 7.5 9 7.5ZM18 9C18 13.125 12.5156 20.3906 10.0781 23.4375C9.51562 24.1406 8.4375 24.1406 7.875 23.4375C5.4375 20.3906 0 13.125 0 9C0 4.03125 3.98438 0 9 0C13.9688 0 18 4.03125 18 9ZM9 2.25C5.25 2.25 2.25 5.29688 2.25 9C2.25 9.60938 2.4375 10.5 2.95312 11.7188C3.42188 12.8438 4.125 14.1562 4.92188 15.4688C6.28125 17.625 7.82812 19.6875 9 21.1875C10.125 19.6875 11.6719 17.625 13.0312 15.4688C13.8281 14.1562 14.5312 12.8438 15 11.7188C15.5156 10.5 15.75 9.60938 15.75 9C15.75 5.29688 12.7031 2.25 9 2.25Z"
                                            fill="#C3DDF4" />
                                    </svg>


                                </span>
                                <p
                                    class="font-segoe font-semibold text-[14px] sm:text-[18px] lg:text-[24px] leading-[130%] sm:leading-[135%] lg:leading-[28px] tracking-[0] max-w-full break-words">
                                    {{ office.address }}</p>
                            </div>
                            <div class="flex items-start gap-3 rounded-sm max-w-full min-w-0">
                                <span class="w-7 h-7 sm:w-7 sm:h-7 lg:w-8 lg:h-8 flex items-center justify-center shrink-0 mt-0.5">
                                    <svg class="w-5 h-5 lg:w-6 lg:h-6" width="24" height="18" viewBox="0 0 24 18" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M0 3C0 1.35938 1.3125 0 3 0H21C22.6406 0 24 1.35938 24 3V15C24 16.6875 22.6406 18 21 18H3C1.3125 18 0 16.6875 0 15V3ZM2.25 3V4.07812L10.3125 10.6875C11.2969 11.4844 12.6562 11.4844 13.6406 10.6875L21.75 4.07812V3C21.75 2.625 21.375 2.25 21 2.25H3C2.57812 2.25 2.25 2.625 2.25 3ZM2.25 6.98438V15C2.25 15.4219 2.57812 15.75 3 15.75H21C21.375 15.75 21.75 15.4219 21.75 15V6.98438L15.0938 12.4219C13.2656 13.9219 10.6875 13.9219 8.85938 12.4219L2.25 6.98438Z"
                                            fill="#C3DDF4" />
                                    </svg>

                                </span>
                                <a [href]="'mailto:' + office.email"
                                    class="text-white text-[14px] sm:text-[18px] lg:text-[24px] font-semibold leading-[130%] sm:leading-[135%] lg:leading-[28px] block break-all">
                                    {{ office.email }}
                                </a>
                            </div>
                            <div class="flex items-start gap-3 prounded-sm max-w-full min-w-0">
                                <span class="w-7 h-7 sm:w-7 sm:h-7 lg:w-8 lg:h-8 flex items-center justify-center shrink-0 mt-0.5">
                                    <svg class="w-5 h-5 lg:w-6 lg:h-6" width="25" height="25" viewBox="0 0 25 25" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M22.5 15.2344C23.5781 15.7031 24.1875 16.875 23.8594 18.0469L22.875 22.3125C22.6875 23.4375 21.7031 24.1875 20.5312 24.1875C9.1875 24.1875 0 15 0 3.65625C0 2.48438 0.75 1.5 1.875 1.26562L6.14062 0.28125C7.3125 0 8.48438 0.609375 8.95312 1.6875L10.9688 6.375C11.3906 7.35938 11.0625 8.53125 10.2656 9.23438L8.67188 10.5C9.89062 12.5625 11.625 14.2969 13.7344 15.5156L15 13.9688C15.7031 13.125 16.875 12.7969 17.9062 13.2656L22.5 15.2344ZM21.7031 17.5312C21.75 17.4375 21.7031 17.3438 21.6094 17.25L17.0156 15.2812C16.9219 15.2344 16.8281 15.2812 16.7812 15.3281L14.9062 17.625C14.5781 18.0469 13.9688 18.1406 13.5 17.9062C10.3594 16.3594 7.78125 13.7812 6.23438 10.6406C6 10.1719 6.14062 9.60938 6.51562 9.28125L8.8125 7.40625C8.90625 7.35938 8.90625 7.26562 8.85938 7.17188L6.89062 2.57812C6.84375 2.53125 6.79688 2.4375 6.70312 2.4375L6.65625 2.48438L2.39062 3.46875C2.29688 3.46875 2.20312 3.5625 2.20312 3.65625C2.20312 13.7344 10.4531 21.9375 20.5312 21.9375C20.625 21.9375 20.7188 21.8438 20.7188 21.7969L21.7031 17.5312Z"
                                            fill="#C3DDF4" />
                                    </svg>

                                </span>
                                <a [href]="'tel:' + office.phone"
                                    class="font-segoe text-white text-[14px] sm:text-[18px] lg:text-[24px] font-semibold leading-[130%] sm:leading-[135%] lg:leading-[28px] hover:text-white break-words">
                                    {{ office.phone }}
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-0" style="position: relative;">
                    <iframe [src]="getMapUrl(office.mapEmbedUrl)" width="100%" height="340"
                        style="border:0; position: relative; z-index: 1;" allowfullscreen="" loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade" title="{{ office.name }} map">
                    </iframe>

                    <div style="position:absolute; left:0; top:0; z-index: 10; pointer-events:auto;">
                        <div
                            style=" background-color:white; margin:10px; padding:6px; box-shadow: rgba(0,0,0,0.3) 0px 1px 4px -1px; border-radius:2px;">
                            <div style="width:280px;">
                                <div style="padding:6px 8px;">
                                    <div
                                        style="display:grid; grid-template-columns:minmax(0,1fr) auto; column-gap:8px; align-items:start;">
                                        <div>
                                            <div style="font-weight:600;">{{ office.name }}</div>
                                            <div style="color:#666; font-size:13px; line-height:1.35; margin-top:4px;">
                                                {{ office.address }}</div>
                                        </div>
                                        <a target="_blank" rel="noopener noreferrer"
                                            href="https://www.google.com/maps/dir/?api=1&destination={{ office.address }}"
                                            style="color:#0D53A2; text-decoration:none; font-size:12px; font-weight:600; display:flex; flex-direction:column; align-items:center; gap:2px; white-space:nowrap;">
                                            <img src="/assets/map-direction-icon.jpg" alt="Directions"
                                                style="width:28px; height:28px; object-fit:contain; display:flex; align-items:center; justify-content:center;" />
                                            Directions
                                        </a>
                                    </div>
                                </div>
                                <div style="padding:6px 8px;">
                                    <a target="_blank" rel="noopener noreferrer"
                                        href="https://maps.google.com/?q={{ office.address }}"
                                        style="color:#0D53A2; text-decoration:none; font-size:13px;">View larger map</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </article>
            }
        </div>
    </div>
</section>