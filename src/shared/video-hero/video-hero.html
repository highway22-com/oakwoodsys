<section class="relative w-full overflow-hidden" [ngClass]="hvh70 ? 'min-h-[80vh]' : 'min-h-screen'">
  <!-- Background Video -->
  <div class="absolute inset-0 z-0">
    <video class="absolute inset-0 w-full h-full object-cover" autoplay muted playsinline preload="auto" #videoElement
      [src]="currentVideoUrl()" [attr.poster]="poster || null">
      Your browser does not support the video tag.
    </video>
    <!-- Precarga del siguiente video (WordPress) para transición sin espera -->
    @if (nextVideoUrl()) {
    <video class="hidden" preload="auto" [src]="nextVideoUrl()" aria-hidden="true"></video>
    }
    <!-- Overlay: gradiente top-left → bottom-right según diseño -->
    <div class="video-hero__gradient absolute inset-0 z-0" aria-hidden="true"></div>
  </div>

  <!-- Content -->
  <div
    class="absolute inset-0 z-10 px-4 sm:px-6 md:px-8 lg:px-20 pt-20 sm:pt-24 md:pt-28 pb-6 sm:pb-8 flex items-start md:items-center justify-start overflow-y-auto">
    <div class="w-full min-w-0 flex flex-col items-start text-left">
      <!-- Title -->
      <h1
        class="text-white mb-4 md:mb-6 w-full max-w-[20ch] sm:max-w-[22ch] lg:max-w-[24ch] text-[clamp(2rem,6vw,4.4rem)] leading-[1.08] break-words">
        {{ currentTitle() }}
      </h1>

      <!-- Description -->
      <p class="md:text-xl text-white/80 pb-6 font-light w-full max-w-xl md:max-w-2xl lg:max-w-3xl leading-relaxed font-segoe break-words"
        style="font-weight: 100;">
        {{ currentDescription() }}
      </p>

      <!-- Offer Details Cards -->
      @if (offerdetails && offerdetails.length > 0) {
      <div class="w-full grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-3 sm:gap-4 mb-8 pb-2">
        @for (item of offerdetails; track item.offer) {
        <div class="min-w-0 w-full flex flex-col bg-white/10 px-4 sm:px-6 py-3 rounded"
          style="backdrop-filter: blur(8px);">
          <div class="flex items-center gap-3">
            @if (item.icon) {
            @if (item.icon.startsWith('http') || item.icon.startsWith('/')) {
            <img [src]="item.icon" [alt]="item.offer + ' icon'" class="w-5 h-5 object-contain" />
            } @else if (item.icon === 'duration') {
            <svg class="w-3.5 h-3.5 text-white" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M6.34375 3.28125C6.34375 2.92578 6.61719 2.625 7 2.625C7.35547 2.625 7.65625 2.92578 7.65625 3.28125V6.67188L9.98047 8.20312C10.2812 8.42188 10.3633 8.83203 10.1445 9.13281C9.95312 9.43359 9.54297 9.51562 9.24219 9.29688L6.61719 7.54688C6.45312 7.4375 6.34375 7.21875 6.34375 7V3.28125ZM7 0C10.8555 0 14 3.14453 14 7C14 10.8828 10.8555 14 7 14C3.11719 14 0 10.8828 0 7C0 3.14453 3.11719 0 7 0ZM1.3125 7C1.3125 10.1445 3.85547 12.6875 7 12.6875C10.1172 12.6875 12.6875 10.1445 12.6875 7C12.6875 3.88281 10.1172 1.3125 7 1.3125C3.85547 1.3125 1.3125 3.88281 1.3125 7Z"
                fill="#53A2DD" />
            </svg>
            } @else if (item.icon === 'delivery') {
            <svg class="w-3.5 h-3.5 text-white" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M9.35156 0C10.0352 0 10.6641 0.410156 10.9375 1.06641L12.0859 3.60938C12.1953 3.82812 12.25 4.07422 12.25 4.32031V10.5C12.25 11.4844 11.457 12.25 10.5 12.25H1.75C0.765625 12.25 0 11.4844 0 10.5V4.32031C0 4.07422 0.0273438 3.82812 0.136719 3.60938L1.28516 1.06641C1.55859 0.410156 2.1875 0 2.87109 0H9.35156ZM9.35156 1.3125H6.78125V3.5H10.6094L9.76172 1.58594C9.67969 1.42188 9.51562 1.3125 9.35156 1.3125ZM10.9375 4.8125H1.3125V10.5C1.3125 10.7461 1.50391 10.9375 1.75 10.9375H10.5C10.7188 10.9375 10.9375 10.7461 10.9375 10.5V4.8125ZM1.61328 3.5H5.46875V1.3125H2.87109C2.70703 1.3125 2.54297 1.42188 2.46094 1.58594L1.61328 3.5Z"
                fill="#53A2DD" />
            </svg>
            } @else if (item.icon === 'pricing') {
            <svg class="w-3.5 h-3.5 text-white" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M9.35156 0C10.0352 0 10.6641 0.410156 10.9375 1.06641L12.0859 3.60938C12.1953 3.82812 12.25 4.07422 12.25 4.32031V10.5C12.25 11.4844 11.457 12.25 10.5 12.25H1.75C0.765625 12.25 0 11.4844 0 10.5V4.32031C0 4.07422 0.0273438 3.82812 0.136719 3.60938L1.28516 1.06641C1.55859 0.410156 2.1875 0 2.87109 0H9.35156ZM9.35156 1.3125H6.78125V3.5H10.6094L9.76172 1.58594C9.67969 1.42188 9.51562 1.3125 9.35156 1.3125ZM10.9375 4.8125H1.3125V10.5C1.3125 10.7461 1.50391 10.9375 1.75 10.9375H10.5C10.7188 10.9375 10.9375 10.7461 10.9375 10.5V4.8125ZM1.61328 3.5H5.46875V1.3125H2.87109C2.70703 1.3125 2.54297 1.42188 2.46094 1.58594L1.61328 3.5Z"
                fill="#53A2DD" />
            </svg>
            } @else if (item.icon === 'category') {
            <svg class="w-3.5 h-3.5 text-white" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M1.96875 0C2.32422 0 2.625 0.300781 2.625 0.65625V1.96875C2.625 2.35156 2.32422 2.625 1.96875 2.625H0.65625C0.273438 2.625 0 2.35156 0 1.96875V0.65625C0 0.300781 0.273438 0 0.65625 0H1.96875ZM12.9062 0.65625C13.2617 0.65625 13.5625 0.957031 13.5625 1.3125C13.5625 1.69531 13.2617 1.96875 12.9062 1.96875H4.59375C4.21094 1.96875 3.9375 1.69531 3.9375 1.3125C3.9375 0.957031 4.21094 0.65625 4.59375 0.65625H12.9062ZM12.9062 5.03125C13.2617 5.03125 13.5625 5.33203 13.5625 5.6875C13.5625 6.07031 13.2617 6.34375 12.9062 6.34375H4.59375C4.21094 6.34375 3.9375 6.07031 3.9375 5.6875C3.9375 5.33203 4.21094 5.03125 4.59375 5.03125H12.9062ZM12.9062 9.40625C13.2617 9.40625 13.5625 9.70703 13.5625 10.0625C13.5625 10.4453 13.2617 10.7188 12.9062 10.7188H4.59375C4.21094 10.7188 3.9375 10.4453 3.9375 10.0625C3.9375 9.70703 4.21094 9.40625 4.59375 9.40625H12.9062ZM0 5.03125C0 4.67578 0.273438 4.375 0.65625 4.375H1.96875C2.32422 4.375 2.625 4.67578 2.625 5.03125V6.34375C2.625 6.72656 2.32422 7 1.96875 7H0.65625C0.273438 7 0 6.72656 0 6.34375V5.03125ZM1.96875 8.75C2.32422 8.75 2.625 9.05078 2.625 9.40625V10.7188C2.625 11.1016 2.32422 11.375 1.96875 11.375H0.65625C0.273438 11.375 0 11.1016 0 10.7188V9.40625C0 9.05078 0.273438 8.75 0.65625 8.75H1.96875Z"
                fill="#53A2DD" />
            </svg>
            } @else {
            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" />
              <path [attr.d]="getIconPath(item.icon)" stroke="currentColor" stroke-width="2" fill="none" />
            </svg>
            }
            }
            <p
              class="font-['Segoe UI'] font-normal text-[16px] leading-[120%] tracking-[0.01em] text-[#E7E7E7] break-words">
              {{ item.offer }}</p>
          </div>
          <p
            class="font-['Segoe UI'] font-semibold text-[24px] leading-[130%] tracking-[0em] align-middle text-[#F6F6F6] mt-2 break-words [overflow-wrap:anywhere]">
            {{ item.offervalue }}</p>
        </div>
        }
      </div>
      }

      <!-- CTA Buttons -->
      <div class="flex flex-wrap gap-4 pb-8 sm:pb-12">
        @if (ctaPrimary) {
        <div class="bg-p-700 mb-3">
          <app-button-primary [text]="ctaPrimary.text" [link]="ctaPrimary.link" />
        </div>
        }

        @if (ctaSecondary) {
        <!-- Secondary Button -->
        <div class="flex  mb-3">
          <app-button-primary [text]="ctaSecondary.text" [link]="ctaSecondary.link" [isTransparent]="true"
            [borderColor]="'white'" />
        </div>

        }
      </div>

      <!-- Video Indicators -->
      @if (effectiveShowIndicators()) {
      <div class="flex items-center gap-1.5">
        @for (indicator of [].constructor(videoUrlsSignal().length); track $index) {

        <button type="button" (click)="switchToVideo($index)"
          [class]="$index === currentVideoIndex() ? 'h-1.5 w-18 bg-white      transition-all duration-300' : 'h-1 w-10 bg-white/50      hover:bg-white/70 transition-all duration-300 cursor-pointer'"
          [attr.aria-label]="'Switch to video ' + ($index + 1)">
        </button>
        }
      </div>
      }
    </div>
  </div>
</section>