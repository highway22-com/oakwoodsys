<div class="px-20">
    <div class="flex flex-col lg:flex-row">
        <!-- Left and Middle Columns: Resource Categories -->
        <div class="flex-8/12 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-0">
            @for (category of resourceCategories; track category.id) {
            <a [routerLink]="category.link"
                [prefetchBlogs]="category.link === '/blog'"
                class="flex w-full group hover:bg-slate-50 transition-all duration-300 relative overflow-hidden">
                <div class="px-6 sm:px-8 md:px-10 pt-10 sm:pt-16 md:pt-18 pb-8 sm:pb-10 md:pb-10 w-full">
                    <div class="flex flex-row items-start gap-4 md:gap-6">
                        <!-- Icon Container (Left) -->
                        <div class="">
                            <div class="flex items-start justify-center relative">
                                <img [src]="category.icon" [alt]="category.name"
                                    class="w-[1.7rem] h-auto object-cover" />
                            </div>
                        </div>
                        <!-- Text Content (Right) -->
                        <div class="flex flex-col flex-1 min-w-0 relative">
                            <div class="flex items-start justify-between gap-2">
                                <h3
                                    class="text-lg       leading-6 text-s-600 group-hover:text-primary-blue pb-2 md:pb-3 flex-1">
                                    {{category.name}}
                                </h3>
                                <!-- Arrow icon that appears on hover -->
                                <svg class="w-5 h-5 text-primary-blue opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300 mt-1"
                                    xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 17 17"
                                    fill="none">
                                    <path
                                        d="M16.1829 9.83507e-07C16.5784 1.01808e-06 16.886 0.307618 16.886 0.703126L16.886 11.9531C16.886 12.3486 16.5784 12.6563 16.1829 12.6563C15.7874 12.6563 15.4797 12.3486 15.4797 11.9531L15.4797 2.41699L1.19751 16.6553C0.933838 16.9189 0.494385 16.9189 0.230713 16.6553C-0.0769043 16.3916 -0.0769043 15.9521 0.230713 15.6885L14.469 1.40625L4.93286 1.40625C4.53735 1.40625 4.22974 1.09863 4.22974 0.703125C4.22974 0.307617 4.53735 -3.45764e-08 4.93286 0L16.1829 9.83507e-07Z"
                                        fill="#3D3D3D" />
                                </svg>
                            </div>
                            <p class="text-sm font-normal leading-6 text-s-600   ">
                                {{category.desc}}
                            </p>
                        </div>
                    </div>
                </div>
            </a>
            }
        </div>

        <!-- Right Column: Featured Blogs + Whitepapers -->
        <div class="flex-auto lg:w-80 xl:w-96 border-t border-gray-200 lg:border-t-0 lg:border-l">
            <div class="px-6 sm:px-8 md:px-10 pt-10 sm:pt-16 md:pt-18 pb-8 sm:pb-10 md:pb-10">
                <!-- Featured Blogs (2 Ãºltimos desde GraphQL / blog) -->
                <div class="">
                    <div class="flex items-center gap-2 mb-6 md:mb-8">
                        <svg class="w-4 h-4 text-p-500" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd"
                                d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"
                                clip-rule="evenodd" />
                        </svg>
                        <h3 class="text-xs uppercase tracking-wider text-[#454545]">
                            FEATURED BLOGS
                        </h3>
                    </div>
                    <div class="space-y-6 md:space-y-8 ">
                        @for (blog of featuredBlogs(); track blog.id) {
                        <div class="group">
                            <a [routerLink]="blog.link" class="block">
                                <div class="flex items-center gap-2">
                                    <div class="w-38 h-26 shrink-0 overflow-hidden rounded-sm flex-shrink-0">
                                        <img [src]="blog.image" [alt]="(blog.title) ?? ''"
                                            class="w-full h-full object-cover" loading="lazy" />
                                    </div>
                                    <div>
                                        <h4
                                            class="text-sm text-[#454545] group-hover:text-p-500 transition-colors duration-200 mt-2">
                                            {{ blog.title }}
                                        </h4>
                                        <div
                                            class="flex items-center text-xs text-[#5D5D5D] group-hover:text-p-500 transition-colors duration-200">
                                            <span>Read more</span>
                                            <svg class="w-3 h-3 ml-1" fill="none" stroke="currentColor"
                                                viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M9 5l7 7-7 7" />
                                            </svg>
                                        </div>
                                    </div>


                                </div>
                            </a>
                        </div>
                        }
                    </div>
                </div>



                <!-- Explore Knowledge Link -->
                <div class="mt-3 md:mt-8 pt-6 md:pt-8 border-t border-gray-200">
                    <a routerLink="/resources"
                        class="flex items-center gap-2 text-sm       text-[#454545] hover:text-p-500 transition-colors duration-200">
                        <svg class="w-4 h-4 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                            <path
                                d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
                        </svg>
                        <span>Explore Knowledge</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>